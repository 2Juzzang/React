{"ast":null,"code":"//초기값\nconst initailState = {\n  list: []\n}; //액션\n\nconst CREATE = \"post/CREATE\";\nconst LOAD = \"post/LOAD\";\nconst DELETE = \"post/DELETE\";\nconst EDIT = \"post/EDIT\"; //액션크리에이터\n\nexport function createPost(post) {\n  return {\n    type: CREATE,\n    post\n  };\n}\nexport function loadPost(post) {\n  return {\n    type: LOAD,\n    post\n  };\n}\nexport function deletePost(id) {\n  return {\n    type: DELETE,\n    id\n  };\n}\nexport function editPost(post, id) {\n  console.log(\"디스패치 에딧\", post, id);\n  return {\n    type: EDIT,\n    post\n  };\n} //리듀서\n\nexport default function reducer(state = initailState, action = {}) {\n  switch (action.type) {\n    case \"post/CREATE\":\n      {\n        return {\n          list: [...state.list, action.post]\n        };\n      }\n\n    case \"post/LOAD\":\n      {\n        return {\n          list: [action.post]\n        };\n      }\n\n    case \"post/DELETE\":\n      {\n        //   let idx = state.list.findIndex((d) => d.id === action.post);\n        console.log(\"하\", action);\n        const arr = state.list.filter(d => d.id !== action.id);\n        return {\n          list: arr\n        };\n      }\n\n    case \"post/EDIT\":\n      {\n        console.log(\"수정하기\", state.list);\n        state.list.map(item => {\n          // map으로 돌렸기 때문에 포스트의 개수만큼 콘솔이 찍힌다.\n          console.log(\"MMM2\", item.id, action.post.id);\n          console.log(\"아이템\", item); // 각 컨텐츠의 id가 디스패치를 통해 받은 값의 id와 같지 않다면\n\n          if (item.id !== action.post.id) {\n            // item을 리턴 item은 객체 하나하나를 담은 값\n            return item;\n          } // 아니라면\n\n\n          return { ...state.list,\n            ...action.post\n          };\n        });\n      }\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/HANSUNG/Desktop/React/study/src/redux/modules/post.js"],"names":["initailState","list","CREATE","LOAD","DELETE","EDIT","createPost","post","type","loadPost","deletePost","id","editPost","console","log","reducer","state","action","arr","filter","d","map","item"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE;AADa,CAArB,C,CAIA;;AACA,MAAMC,MAAM,GAAG,aAAf;AACA,MAAMC,IAAI,GAAG,WAAb;AACA,MAAMC,MAAM,GAAG,aAAf;AACA,MAAMC,IAAI,GAAG,WAAb,C,CAEA;;AAEA,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AAC/B,SAAO;AAAEC,IAAAA,IAAI,EAAEN,MAAR;AAAgBK,IAAAA;AAAhB,GAAP;AACD;AACD,OAAO,SAASE,QAAT,CAAkBF,IAAlB,EAAwB;AAC7B,SAAO;AAAEC,IAAAA,IAAI,EAAEL,IAAR;AAAcI,IAAAA;AAAd,GAAP;AACD;AACD,OAAO,SAASG,UAAT,CAAoBC,EAApB,EAAwB;AAC7B,SAAO;AAAEH,IAAAA,IAAI,EAAEJ,MAAR;AAAgBO,IAAAA;AAAhB,GAAP;AACD;AACD,OAAO,SAASC,QAAT,CAAkBL,IAAlB,EAAwBI,EAAxB,EAA4B;AACjCE,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBP,IAAvB,EAA6BI,EAA7B;AACA,SAAO;AAAEH,IAAAA,IAAI,EAAEH,IAAR;AAAcE,IAAAA;AAAd,GAAP;AACD,C,CAED;;AACA,eAAe,SAASQ,OAAT,CAAiBC,KAAK,GAAGhB,YAAzB,EAAuCiB,MAAM,GAAG,EAAhD,EAAoD;AACjE,UAAQA,MAAM,CAACT,IAAf;AACE,SAAK,aAAL;AAAoB;AAClB,eAAO;AAAEP,UAAAA,IAAI,EAAE,CAAC,GAAGe,KAAK,CAACf,IAAV,EAAgBgB,MAAM,CAACV,IAAvB;AAAR,SAAP;AACD;;AACD,SAAK,WAAL;AAAkB;AAChB,eAAO;AAAEN,UAAAA,IAAI,EAAE,CAACgB,MAAM,CAACV,IAAR;AAAR,SAAP;AACD;;AACD,SAAK,aAAL;AAAoB;AAClB;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBG,MAAjB;AACA,cAAMC,GAAG,GAAGF,KAAK,CAACf,IAAN,CAAWkB,MAAX,CAAmBC,CAAD,IAAOA,CAAC,CAACT,EAAF,KAASM,MAAM,CAACN,EAAzC,CAAZ;AACA,eAAO;AAAEV,UAAAA,IAAI,EAAEiB;AAAR,SAAP;AACD;;AACD,SAAK,WAAL;AAAkB;AAChBL,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBE,KAAK,CAACf,IAA1B;AACAe,QAAAA,KAAK,CAACf,IAAN,CAAWoB,GAAX,CAAgBC,IAAD,IAAU;AACvB;AACAT,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBQ,IAAI,CAACX,EAAzB,EAA6BM,MAAM,CAACV,IAAP,CAAYI,EAAzC;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBQ,IAAnB,EAHuB,CAIvB;;AACA,cAAIA,IAAI,CAACX,EAAL,KAAYM,MAAM,CAACV,IAAP,CAAYI,EAA5B,EAAgC;AAC9B;AACA,mBAAOW,IAAP;AACD,WARsB,CAUvB;;;AAEA,iBAAO,EAAE,GAAGN,KAAK,CAACf,IAAX;AAAiB,eAAGgB,MAAM,CAACV;AAA3B,WAAP;AACD,SAbD;AAcD;;AACD;AACE,aAAOS,KAAP;AA/BJ;AAiCD","sourcesContent":["//초기값\r\nconst initailState = {\r\n  list: [],\r\n};\r\n\r\n//액션\r\nconst CREATE = \"post/CREATE\";\r\nconst LOAD = \"post/LOAD\";\r\nconst DELETE = \"post/DELETE\";\r\nconst EDIT = \"post/EDIT\";\r\n\r\n//액션크리에이터\r\n\r\nexport function createPost(post) {\r\n  return { type: CREATE, post };\r\n}\r\nexport function loadPost(post) {\r\n  return { type: LOAD, post };\r\n}\r\nexport function deletePost(id) {\r\n  return { type: DELETE, id };\r\n}\r\nexport function editPost(post, id) {\r\n  console.log(\"디스패치 에딧\", post, id);\r\n  return { type: EDIT, post };\r\n}\r\n\r\n//리듀서\r\nexport default function reducer(state = initailState, action = {}) {\r\n  switch (action.type) {\r\n    case \"post/CREATE\": {\r\n      return { list: [...state.list, action.post] };\r\n    }\r\n    case \"post/LOAD\": {\r\n      return { list: [action.post] };\r\n    }\r\n    case \"post/DELETE\": {\r\n      //   let idx = state.list.findIndex((d) => d.id === action.post);\r\n      console.log(\"하\", action);\r\n      const arr = state.list.filter((d) => d.id !== action.id);\r\n      return { list: arr };\r\n    }\r\n    case \"post/EDIT\": {\r\n      console.log(\"수정하기\", state.list);\r\n      state.list.map((item) => {\r\n        // map으로 돌렸기 때문에 포스트의 개수만큼 콘솔이 찍힌다.\r\n        console.log(\"MMM2\", item.id, action.post.id);\r\n        console.log(\"아이템\", item);\r\n        // 각 컨텐츠의 id가 디스패치를 통해 받은 값의 id와 같지 않다면\r\n        if (item.id !== action.post.id) {\r\n          // item을 리턴 item은 객체 하나하나를 담은 값\r\n          return item;\r\n        }\r\n\r\n        // 아니라면\r\n\r\n        return { ...state.list, ...action.post };\r\n      });\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}